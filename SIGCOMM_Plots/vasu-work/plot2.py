import numpy as np
import pandas as pd
import seaborn as sns
import matplotlib as mlt
import matplotlib.pyplot as plt
from matplotlib.colors import ListedColormap
sns.set()
sns.set_style('whitegrid')
from matplotlib import rcParams
rcParams.update({'figure.autolayout': True})
mlt.rcParams['figure.figsize'] = 4, 3

SMALL_SIZE = 60
MEDIUM_SIZE = 60
BIGGER_SIZE = 60
#motion_sensor = [0.31048999999999993, 0.29688000000000003, 0.33743, 0.31995999999999986, 0.27717, 0.24775999999999995, 0.24853999999999998, 0.24958, 0.24989, 0.23534000000000002, 0.39470061601619766, 0.27824999999999994, 0.2506, 0.24255000000000002, 0.24963999999999992, 0.25877000000000006, 0.24061, 0.24735999999999997, 0.2388000000000001, 0.7421819384087017, 2.5580702756794795, 2.2979360916560814, 1.6444374811251132, 2.7499162661831815, 1.7243947346654818, 1.34682696018248, 0.35430439320299434, 0.2988599999999999, 0.30758, 0.25685, 1.1311517015183281, 1.2781435197499191, 0.9766130150391522, 0.25459, 0.7659485302212091, 1.2066962135822048, 1.090615066778713, 1.2320910048318998, 1.2206527368222786, 1.3027884012088438, 1.1425225824496037, 1.0978134759647247, 0.9345562185592365, 0.37896000000000013, 0.4036999999999999, 0.28657000000000005, 0.2571800000000002, 0.28414000000000006, 0.42839125048225285, 0.25749999999999995, 0.25217, 0.24706, 0.27976999999999996, 0.23884000000000005, 0.4042288829933545, 0.5909900000000001, 0.25125999999999993, 0.48935200048894756, 1.7539705885514791, 0.6025799999999998, 0.30522000000000005, 0.27745000000000003, 0.9057496989924568, 1.1619822116846914, 1.1983989400666997, 1.1634535703028908, 0.2518000000000001, 0.7980027388403954, 1.2380408640717453, 1.244612096372749, 1.1939771941995543, 1.2989183903622843, 1.2191343387250613, 1.3220531208115462, 0.5526813618534766, 0.31336000656482815, 1.189430986635042, 0.2736599999999999, 0.2719000000000001, 0.26496, 0.30236, 0.24442, 0.26023999999999997, 0.27801000000000003, 0.2585600000000001, 0.25263999999999986, 0.24772000000000016, 0.27203999999999995, 0.2610400000000001, 0.24183999999999997, 0.24327000000000004, 0.25909000000000004, 0.24612999999999988, 0.25551999999999997, 0.24964999999999993, 0.24411000000000002, 0.27067, 0.24284000000000006, 0.2456500000000001, 0.2866000000000001, 0.24094000000000002, 0.2469600000000001, 0.24880999999999992, 0.25065000000000004, 0.24692000000000003, 0.2569500000000001, 0.2358500000000001, 0.24306999999999993, 0.23834, 0.2509599999999999, 0.26413, 0.24745999999999987, 0.24829000000000007, 0.23786000000000013, 0.30265999999999993, 0.25001000000000007, 0.24374999999999994, 0.3688699999999999, 0.2427, 0.24303999999999992, 0.24167000000000005, 0.27002000000000004, 0.3368700000000001, 0.34635000000000005, 0.33556, 0.3449499999999999, 0.2567, 0.25125000000000003, 0.24995, 0.25870000000000004, 0.25046, 0.2583200000000001, 0.24586999999999995, 0.25178999999999996, 0.2675499999999999, 0.2505900000000001, 0.24777000000000007, 0.23715000000000014, 0.24233000000000002, 0.23666000000000004, 0.23658999999999997, 0.23755000000000007, 0.2529199999999999, 0.25045, 0.24083000000000004, 0.26303000000000004, 0.25229, 0.25053000000000003, 0.26014, 0.2543800000000001, 0.2383100000000001, 0.2771699999999999, 0.2951799999999999, 0.24565000000000003, 0.24407, 0.2414100000000001, 0.31018999999999997, 0.29731000000000013, 0.265, 0.27227999999999997, 0.24064000000000008, 0.24352000000000015, 0.24550000000000008, 0.24458000000000016, 0.2741, 0.22865, 0.24093000000000006, 0.27212, 0.24211000000000013, 0.25142, 0.27403000000000005, 0.2656400000000001, 0.24428000000000016, 0.29085, 0.8872217673554096, 1.1764089086263678, 1.4352825605683444, 1.3819008127837515, 1.2895590921267028, 1.3213190109184199, 1.291187369636583, 1.2001973413183142, 0.2384200000000001, 0.24243999999999993, 0.26638000000000006, 0.27131000000000005, 0.2601800000000001, 0.23984000000000005, 0.26239999999999986, 0.2408, 0.23820999999999998, 0.6695053266303762, 1.2454183125826639, 2.049923799691725, 2.134942179159102, 2.081367890633499, 1.6090433228840562, 1.6790353287989874, 1.7817348492379776, 0.40822000000000025, 0.33027999999999996, 0.33842000000000005, 0.3329600000000002, 0.3471299999999999, 0.3364400000000001, 0.3300600000000001, 0.3392099999999999, 0.34512, 0.34125000000000016, 0.34043, 0.3343199999999999, 0.37860000000000005, 0.34424999999999994, 0.33502000000000004, 0.33634000000000014, 0.33363999999999977, 0.31507999999999997, 0.23652000000000004, 0.23736999999999994, 0.25189000000000006, 0.27113999999999994, 0.30743000000000004, 0.27891, 0.25351, 0.2526099999999999, 0.2696800000000002, 0.24336000000000013, 0.28206000000000003, 0.24478999999999995, 0.23303000000000007, 0.23668999999999996, 0.23831000000000008, 0.2420000000000001, 0.25547000000000003, 0.26179999999999987, 0.27222999999999997, 0.25842999999999994, 0.24814000000000008, 0.24752999999999992, 0.23800000000000002, 0.26182, 0.26052999999999993, 0.24628999999999998, 0.3046700000000001, 0.24663999999999994, 0.27218999999999993, 0.2522, 0.23836000000000002, 0.6381300000000001, 0.44765999999999984, 0.24557000000000012, 0.24658999999999998, 0.26782000000000006, 0.27105000000000007, 0.25123000000000006, 0.4759100000000002, 0.2538100000000001, 0.2574200000000001, 0.24699000000000015, 0.24644000000000002, 0.24043, 0.24005, 0.24574000000000004, 0.24320999999999998, 0.24363000000000004, 0.24548999999999996, 0.27906000000000014, 0.25792000000000015, 0.27939, 0.27937000000000006, 0.26207, 0.25261999999999996, 0.26547000000000004, 0.2693699999999999, 0.24582000000000007, 0.25310999999999984, 0.25322, 0.2501099999999999, 0.27082000000000006, 0.2727300000000001, 0.24677, 0.2333500000000001, 0.2527900000000001, 0.29277, 0.24029999999999987, 0.3847, 0.32378999999999997, 0.3412800000000001, 0.27693999999999996, 0.24692000000000008, 0.24383999999999997, 0.25145999999999996, 0.25170000000000003, 0.25789000000000006, 0.32732, 0.24910999999999994, 0.24187999999999998, 0.25856999999999997, 0.24311999999999998, 0.23694000000000007, 0.22944000000000014, 0.23877999999999994, 0.23985, 0.23257999999999998, 0.2771200000000001, 0.23414999999999989, 0.23936000000000013, 0.24564000000000002, 0.5011000000000001, 0.41430000000000006, 0.26783999999999997, 0.24686999999999998, 0.24817000000000008, 0.24613, 0.24453999999999992, 0.24475999999999998, 0.26434000000000013, 0.2596099999999999, 0.27676000000000006, 0.24044999999999994, 0.23416000000000003, 0.24296999999999996, 0.24149, 0.24944, 0.25626, 0.2536199999999999, 0.33259, 0.33813000000000004, 0.28782, 0.24623000000000006, 0.2814599999999999, 0.33114000000000005, 0.24560000000000007, 0.23473000000000005, 0.24730000000000016, 0.24497999999999995, 0.24486999999999998, 0.24966999999999998, 0.25053000000000003, 0.23731, 0.2587500000000001, 0.24377999999999997, 0.24758, 0.23773000000000002, 0.2804, 0.24820000000000003, 0.24823000000000003, 0.24166000000000015, 0.24712, 0.23439999999999997, 0.23657000000000014, 0.24742, 0.5642099999999999, 0.28236000000000017, 0.3029700000000001, 0.24925999999999998, 0.24890999999999994, 0.25275000000000014, 0.25895000000000007, 0.24758000000000013, 0.28182999999999997, 0.2509300000000001, 0.24951999999999994, 0.23926000000000003, 0.23800000000000004, 0.24844999999999998, 0.25327000000000005, 0.24731000000000003, 0.28257, 0.23715, 0.24503000000000003, 0.2903, 0.2558499999999999, 0.84286, 0.2314, 0.23135999999999995, 0.2451, 0.2380800000000002, 0.23044000000000003, 0.24221000000000012, 0.23815000000000006, 0.23547000000000012, 0.2414499999999999, 0.23971999999999993, 0.23979999999999996, 0.2853299999999999, 0.26170000000000004, 0.25015000000000004, 0.2514600000000001, 0.24880000000000002, 0.24867000000000006, 0.25349999999999995, 0.24843000000000004, 0.25033999999999995, 0.24631000000000017, 0.24725000000000003, 0.24719000000000005, 0.24541999999999997, 0.24803000000000008, 0.24295999999999995, 0.24736, 0.24592000000000003, 0.24779, 0.25353000000000003, 0.24255, 0.25416000000000005, 0.3424000000000001, 0.3308999999999999, 0.26621999999999996, 0.33797000000000005, 0.34648, 0.34475999999999984, 0.33037, 0.34302999999999995, 0.3426600000000001, 0.3393299999999999, 0.34392999999999985, 0.33776999999999974, 0.24477999999999983, 0.25228, 0.2529, 0.32604999999999995, 0.32659000000000005, 0.34102, 0.32960999999999996, 0.33544999999999997, 0.3471300000000001, 0.33422, 0.33694, 0.31474000000000013, 0.8763700000000001, 0.2786499999999999, 0.3086700000000001, 0.23619999999999994, 0.24463000000000004, 0.2548100000000001, 0.24594999999999995, 0.23950000000000013, 0.2486300000000001, 0.2782400000000001, 1.0212199999999998, 0.2451899999999999, 0.23940999999999998, 0.23616999999999996, 0.24600000000000008, 0.24093000000000014, 0.24267999999999998, 0.24402000000000004, 0.23059000000000004, 0.24155000000000001, 0.2731900000000001, 0.2412800000000001, 0.2999700000000001, 0.26010000000000016, 0.23379999999999995, 0.2582400000000001, 0.27649, 0.3432100000000001, 0.33919000000000005, 0.3390299999999998, 0.32, 0.23551999999999992, 0.23142, 0.23508000000000007, 0.24069000000000007, 0.2426299999999999, 0.2447, 0.23660000000000003, 0.23903000000000002, 0.27404999999999985, 0.33080000000000004, 0.3366700000000001, 0.32957000000000014, 0.3379699999999999, 0.336, 0.33647999999999995, 0.29105, 0.23664999999999994, 0.23200999999999997, 0.23995999999999995, 0.24178999999999998, 0.24196, 0.24416000000000007, 0.2345900000000002, 0.23675999999999991, 0.25854, 0.24265, 0.23899000000000004, 0.33129000000000003, 0.34858999999999996, 0.30668000000000006, 0.2497900000000001, 0.25672999999999996, 0.33626000000000006, 0.34299999999999997, 0.3287400000000001, 0.24268, 0.24744000000000008, 0.2399699999999999, 0.26033, 0.24279, 0.24202, 0.2427100000000001, 0.24340000000000006, 0.24762999999999993, 0.24728000000000006, 0.25124, 0.28728, 0.24607999999999997, 0.2462500000000001, 0.23924000000000006, 0.23700000000000002, 0.26181000000000004, 0.25576000000000004, 0.25448000000000004, 0.2811, 0.2445400000000001, 0.2406500000000001, 0.24174000000000007, 0.24399999999999994, 0.3099699999999999, 0.34438, 0.33775999999999995, 0.31788000000000005, 0.27380000000000004, 0.2432799999999999, 0.2474900000000001, 0.24915999999999996, 0.24675999999999995, 0.24125000000000005, 0.24650000000000008, 0.24880999999999998, 0.24860999999999994, 0.24620999999999993, 0.24231999999999998, 0.23868999999999999, 0.24700999999999998, 0.2452799999999999, 0.24695000000000003, 0.2698500000000001, 0.23982000000000006, 0.24722000000000008, 0.2612400000000001, 0.2617200000000001, 0.25404999999999994, 0.44018000000000007, 0.29412999999999995, 0.26272000000000006, 0.24540000000000003, 0.24734000000000017, 0.5582, 0.26182, 0.23775000000000004, 0.23563000000000003, 0.24558999999999997, 0.24133000000000002, 0.23852999999999994, 0.2383800000000001, 0.2512500000000001, 0.2469400000000001, 0.3022500000000001, 0.25035999999999997, 0.2556099999999999, 0.23762000000000005, 0.2517000000000001, 0.24681000000000006, 0.25415999999999994, 0.25062999999999996, 0.25354, 0.24821999999999989, 0.25450999999999996, 0.2588999999999999, 0.2502700000000001, 0.24599000000000004, 0.25261999999999996, 0.25321999999999995, 0.25467999999999996, 0.24283, 0.25751, 0.23711999999999997, 0.24352000000000007, 0.23394999999999996, 0.24399, 0.25348, 0.24522000000000002, 0.2330899999999999, 0.25167000000000006, 0.24988000000000002, 0.23818999999999999, 0.7881499999999997, 0.2539600000000001, 0.24735000000000004, 0.23971999999999993, 0.28443999999999986, 0.25964000000000004, 0.2527000000000001, 0.24099, 0.24659000000000003, 0.25597, 0.28250000000000003, 0.24110000000000004, 0.24615999999999996, 1.2541621658817816, 0.24411000000000008, 0.26411000000000007, 0.24049999999999996, 0.24553000000000008, 0.24024999999999996, 0.25713, 0.2728700000000001, 0.24657999999999997, 0.24548999999999987, 0.25072999999999995, 0.2614, 0.25629, 0.25011999999999995, 0.2925299999999999, 0.2739400000000001, 0.23387, 0.26737, 0.3030499999999999, 0.2479600000000001, 0.24538999999999997, 0.24602000000000002, 0.24537000000000006, 0.24470000000000006, 0.25239, 0.24123999999999998, 0.23531000000000005, 0.2401300000000001, 0.26832000000000017, 0.4280999999999999, 0.24224, 0.24452000000000002, 0.24044000000000004, 0.24242000000000008, 0.22771999999999992, 0.25005, 0.23870999999999998, 0.24799999999999997, 0.25205, 0.24642, 0.7767399999999998, 0.31091, 0.26064000000000004, 0.24795999999999999, 0.25057, 0.25767, 0.24715, 0.25982000000000005, 0.24858000000000005, 0.2526599999999999, 0.25464000000000003, 0.25657000000000013, 0.2601899999999999, 0.25791000000000003, 0.26213999999999993, 0.2575, 0.25207000000000007, 0.25357, 0.23337999999999998, 0.24104000000000003, 0.34251, 0.25361999999999996, 0.2518, 0.24659000000000003, 0.2352600000000001, 0.27231000000000005, 0.23739999999999997, 0.29438, 0.34629000000000004, 0.24852, 0.24657, 0.24517000000000003, 0.23126000000000002, 0.24798, 0.24226999999999993, 0.25488999999999995, 0.24375999999999995, 0.24496, 0.2469400000000001, 0.2508500000000001, 0.24470000000000006, 0.24844999999999995, 0.25938999999999984, 0.24852999999999992, 0.2533400000000001, 0.24801, 0.2475799999999999, 0.24852999999999997, 0.25407000000000013, 0.25206, 0.25114000000000003, 0.25122000000000005, 0.24452999999999997, 0.24483999999999992, 0.24470000000000003, 0.27698000000000006, 0.2917499999999999, 0.24732999999999994, 0.24871999999999986, 0.2419, 0.24167000000000002, 0.2451000000000001, 0.25762, 0.2559299999999999, 0.22146000000000007, 0.24430000000000004, 0.25327000000000033, 0.25623999999999997, 0.25267999999999996, 0.24181000000000008, 0.24592000000000006, 0.23352999999999993, 0.24037999999999987, 0.23453999999999994, 0.24209000000000003, 0.24644999999999986, 0.28384999999999994, 0.24945, 0.24882, 0.2448899999999999, 0.24531000000000003, 0.24813000000000013, 0.24980000000000013, 0.24582000000000012, 0.2496200000000001, 0.25054, 0.24594999999999992, 0.24269000000000004, 0.24592999999999995, 0.25238, 0.24599000000000015, 0.29672, 0.23903999999999997, 0.23992999999999998, 0.24227999999999997, 0.23846000000000003, 0.24489000000000008, 0.24459999999999998, 0.24515999999999993, 0.24475999999999998, 0.2516999999999999, 0.24091, 0.23793000000000006, 0.23781, 0.23917999999999992, 0.23550000000000001, 0.25122000000000005, 0.24088999999999994, 0.24711999999999995, 0.24945000000000003, 0.26138, 0.24114999999999995, 0.24454, 0.26583000000000007, 0.23394000000000006, 0.23848000000000003, 0.2339699999999999, 0.49439000000000016, 0.28803, 0.24090999999999999, 0.25869, 0.2355600000000001, 0.24198, 0.2537, 0.24501000000000006, 0.9026349448233398, 1.2474680079942926, 1.201784793497025, 1.4327481805011286, 0.24137000000000008, 0.24090999999999993, 0.27229, 0.25677999999999995, 0.26017000000000007, 0.2444600000000001, 0.2904500000000001, 0.33701000000000003, 0.2342700000000001, 0.23882000000000006, 0.23500000000000018, 0.3324999999999999, 0.30984, 0.3092200000000001, 0.23933999999999997, 0.23981999999999992, 0.23331999999999997, 0.2324699999999999, 0.23058000000000006, 0.24730999999999995, 0.2411699999999999, 0.2591300000000001, 0.27505000000000007, 0.24491000000000013, 0.2523800000000001, 0.24018000000000003, 0.2605700000000001, 0.24191999999999997, 0.28121, 0.25512999999999997, 0.4978000000000001, 0.3702499999999999, 0.24428999999999998, 0.23624000000000017, 0.23464000000000002, 0.23945, 0.24900999999999995, 0.24100999999999992, 0.23199999999999998, 0.23537000000000005, 0.23727000000000006, 0.24723999999999996, 0.23938000000000004, 0.23863000000000006, 0.23083000000000023, 0.23725000000000013, 0.24556999999999993, 0.26112000000000013, 0.24498999999999985, 0.24167000000000008, 0.23751999999999998, 0.41129000000000004, 0.63288, 0.24096000000000004, 0.24986999999999993, 0.6554800000000001, 0.24202000000000004, 0.24436, 0.23438000000000003, 0.88292, 0.23113000000000006, 0.2375300000000001, 0.2404099999999999, 0.36274999999999996, 0.59729, 0.2501500000000001, 0.24898999999999996, 0.24644, 0.23570999999999992, 0.28902000000000005, 0.23226000000000013, 0.24025999999999992, 0.24034999999999992, 0.24565999999999996, 0.24178999999999995, 0.24357000000000004, 0.24148999999999998, 0.23365999999999995, 0.23569000000000004, 0.24167999999999984, 0.24050999999999992, 0.22773000000000004, 0.23676000000000005, 0.24163999999999997, 0.23744999999999994, 0.23555000000000006, 0.24081000000000002, 0.22601, 0.25140000000000007, 0.24696, 0.41436, 0.6567899999999998, 0.24733000000000005, 0.24189999999999998, 0.24283000000000005, 0.28840000000000005, 0.23728000000000002, 0.24017, 0.24349000000000004, 0.23612000000000008, 0.40271999999999986, 0.29575000000000007, 0.26028000000000007, 0.23972000000000002, 0.2560399999999999, 0.2604800000000001, 0.25158, 0.24572000000000005, 0.2612300000000001, 0.24609999999999999, 0.30692, 0.24129, 0.2411500000000001, 0.27329000000000003, 0.25034, 0.25402, 0.27798, 0.23931000000000005, 0.24917000000000009, 0.23888000000000012, 0.24441, 0.26264000000000004, 0.24174000000000004, 0.23985999999999996, 0.3051000000000001, 0.25283999999999995, 0.23712000000000003, 0.24117000000000008, 0.2535300000000001, 0.24267000000000002, 0.24845000000000003, 0.2814400000000001, 0.24636, 0.25914, 0.24499999999999997, 0.24661000000000008, 0.23913999999999994, 0.24034999999999992, 0.28261999999999987, 0.28174000000000005, 0.25464000000000003, 0.27094, 0.25704, 0.2534500000000001, 0.27438000000000007, 0.24162000000000006, 0.25167000000000006, 0.2442900000000001, 0.24545000000000008, 0.24498000000000006, 0.24441000000000002, 0.25225000000000003, 0.24988, 0.25595, 0.25794999999999996, 0.24116000000000007, 0.2549700000000001, 0.25117000000000006, 0.2486900000000001, 0.24310999999999997, 0.23827000000000012, 0.3237300000000001, 0.2974400000000001, 0.2445, 0.25730000000000003, 0.27684, 0.24162000000000008, 0.2558, 0.3434799999999999, 0.24710000000000004, 0.24367999999999987, 0.2441700000000001, 0.24732000000000007, 0.24489999999999995, 0.25025, 0.25547, 0.29756999999999995, 0.2506, 0.24261999999999995, 0.30121, 0.25411, 0.2400999999999999, 0.23105000000000003, 0.24250999999999998, 0.2439000000000001, 0.2366699999999999, 0.24905000000000008, 0.23795000000000005, 0.2402400000000001, 0.27996000000000004, 0.25328999999999996, 0.23336000000000012, 0.24178000000000005, 0.25493999999999994, 0.2611900000000001, 0.27093999999999996, 0.27079000000000003, 0.2651799999999999, 0.24999000000000002, 0.24803999999999995, 0.2719799999999999, 0.29744000000000004, 0.2672800000000001, 0.24283, 0.24820999999999993, 0.23861999999999992, 0.4144899999999999, 0.24357000000000004, 0.23934999999999995, 0.24538000000000004, 0.25382, 0.24749000000000007, 0.24967999999999993, 0.24698, 0.25522, 0.2562, 0.25512999999999997, 0.27222999999999997, 0.2595400000000001]
#for i in range(len(motion_sensor)):
#    motion_sensor[i] *= int(10)

#motion_sensor = pd.DataFrame.from_items(motion_sensor)
mainframe = None
filenames = ['dropcam.txt.flt', 'printer.txt', 'amazon.flt']

for file in filenames:
    df = pd.read_csv(file, sep='|', header=None)
    df = df.drop(1, axis=1)
    if mainframe is None:
        mainframe = df
    else:
        mainframe = pd.merge(mainframe, df, left_index=True, right_index=True)
mainframe = mainframe.drop(['0_x', '0_y', 0], axis=1)

#mainframe.merge(mainframe, motion_sensor, left_index=True, right_index=True)
print(mainframe)
#mainframe.columns=['DropCam', 'Printer', 'Speaker', 'Motion Sensor']
mainframe.columns = ['Dropcam', 'Printer', 'Speaker']
idx = len(mainframe) - 1 if len(mainframe) % 2 else len(df)
mainframe = mainframe[:idx].groupby(mainframe.index[:idx] // 5).sum()

ax = mainframe.plot(kind='line', linewidth=6)
plt.xlabel('Hour of Day', fontsize=20)
#plt.ylabel(fontsize=50)
plt.ylabel('Number of Control Messages', fontsize=12)
plt.xlim([0, 24])
#ax = mainframe.plot(kind='line', alpha=0.5)

plt.savefig('Line.pdf')
#print (mainframe)
